add_namespace = france_events

# Ask the Dutch to Leave
country_event = {
    id = france_events.1
    title = "[FRA.GetName] Asks the Dutch to Leave"
    desc = france_events.1.d

    is_triggered_only = yes

    option = {
        name = "Let them take over."

        news_event = { id = france_events.2 hours = 12 random_hours = 6 }
        every_state = {
            limit = { is_claimed_by = FRA is_owned_by = HOL }
            transfer_state_to = FRA
        }

        remove_ideas = sww1_idea_the_aftermath_in_flanders

        ai_chance = {
            base = 2
            modifier = { has_completed_focus = HOL_thorbeckes_legacy factor = 3 }
        }
    }

    option = {
        name = "We shall stay in Flanders!"
        FRA = {
            news_event = { id = france_events.3 hours = 12 random_hours = 6 }
            create_wargoal = {
                target = HOL
                type = take_claimed_state
            }
        }

        hidden_effect = {
            add_named_threat = {
                threat = 2
                name = "The Dutch Won't Leave Belgium"
            }

            HOL = { set_country_flag = we_stay_in_flanders }
        }

        ai_chance = { 
            base = 1
            modifier = { has_country_flag = france_made_us_wait factor = 3 }
            modifier = { has_completed_focus = HOL_thorbeckes_legacy factor = 0 }
        }
    }
}

news_event = {
    id = france_events.2
    title = "[HOL.GetName] Yields Belgium to France!"
    desc = france_events.2.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Wonderful."
    }
}

news_event = {
    id = france_events.3
    title = "[HOL.GetName] Refuses French Demands!"
    desc = france_events.3.d

    is_triggered_only = yes

    option = {
        name = "A setback for France."
    }
}

# Ultimatum to Germany
country_event = {
    id = france_events.4
    title = "[FRA.GetName] Demands Germany End Occupation!"
    desc = france_events.4.d

    is_triggered_only = yes

    option = {
        name = "We will leave Belgium."

        news_event = { id = france_events.5 hours = 12 random_hours = 6 }
        every_state = {
            limit = {
                or = {
                    state = 6
                    state = 34
                    state = 977
                    state = 980
                }
                is_owned_by = GER
            }
            transfer_state_to = FRA
        }

        ai_chance = {
            base = 1
            modifier = {
                FRA = { is_ally_with = ENG }
                factor = 2
            }
            modifier = {
                FRA = { is_ally_with = SOV }
                factor = 2.5
            }
        }
    }

    option = {
        name = "We refuse to leave."

        hidden_effect = {
            add_named_threat = {
                threat = 3
                name = "Germans Stay in the Ardennes"
            }
        }

        FRA = {
            country_event = { id = france_events.6 hours = 12 random_hours = 6 }
            create_wargoal = {
                target = GER
                type = take_claimed_state
            }
        }

        ai_chance = {
            base = 4
            modifier = {
                is_ally_with = AUS
                factor = 2.5
            }
        }
    }
}

news_event = {
    id = france_events.5
    title = "Germany Ends Occupation in Belgium!"
    desc = france_events.5.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Phew."
    }
}

country_event = {
    id = france_events.6
    title = "Germany Refuses!"
    desc = france_events.6.d

    is_triggered_only = yes

    option = {
        name = "We must go to war!"

        declare_war_on = {
            target = GER
            type = take_claimed_state
        }

        hidden_effect = {
            add_named_threat = {
                threat = 25
                name = "France Goes to War over Belgium!"
            }
        }

        news_event = { id = france_events.7 hours = 12 random_hours = 6 }
        ai_chance = {
            base = 2
            modifier = {
                is_ally_with = SOV
                factor = 2
            }
            modifier = {
                strength_ratio = {
                    tag = GER
                    ratio > 1.2
                }
                factor = 4
            }
        }
    }

    option = {
        name = "Let us back out for now."

        add_political_power = -100
        hidden_effect = {
            GER = {
                country_event = { id = france_events.8 days = 7 random_days = 14 }
            }
        }

        ai_chance = {
            base = 4
            modifier = {
                strength_ratio = {
                    tag = GER
                    ratio < 0.8
                }
                factor = 4
            }
        }
    }
}

news_event = {
    id = france_events.7
    title = "France Declares War on Germany!"
    desc = france_events.7.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "The conflict escalates in Europe."
    }
}

country_event = {
    id = france_events.8
    title = "[GER.GetName] Ponders Next Move"
    desc = france_events.8.d

    is_triggered_only = yes

    option = {
        name = "Strike now while they're weak!"

        declare_war_on = {
            target = FRA
            type = annex_everything
        }
        news_event = { id = france_events.9 hours = 12 random_hours = 6 }

        hidden_effect = {
            add_named_threat = {
                threat = 35
                name = "[GER.GetName] Invades France!"
            }
        }

        ai_chance = {
            base = 4
            modifier = {
                strength_ratio = {
                    tag = FRA
                    ratio > 1.5
                }
                factor = 5
            }
            modifier = {
                is_ally_with = AUS
                factor = 2.5
            }
            modifier = {
                or = { 
                    FRA = { is_ally_with = SOV }
                    FRA = { is_ally_with = AUS }
                }
                factor = 0.5
            }
        }
    }

    option = {
        name = "Let us give up for now."
        ai_chance = { base = 2 }
    }
}

news_event = {
    id = france_events.9
    title = "Germany Declares War on France!"
    desc = france_events.9.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Europe descends into chaos."
    }
}

# Annex Belgium
news_event = {
    id = france_events.10
    title = "France Annexes Belgium!"
    desc = france_events.10.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Disappointment spreads globally."
    }
}

news_event = {
    id = france_events.11
    title = "Belgian Crisis is Over"
    desc = france_events.11.d

    trigger = {
        FRA = {
            has_idea = sww1_idea_belgian_crisis
            has_war = no

            owns_state = 6
            owns_state = 34
            owns_state = 977
            owns_state = 980
        }
    }

    mean_time_to_happen = { days = 7 }

    option = {
        name = "Fantastic news."

        if = {
            limit = { tag = FRA }
            remove_ideas = sww1_idea_belgian_crisis
        }
    }
}