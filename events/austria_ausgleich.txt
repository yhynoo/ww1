add_namespace = austria_ausgleich

country_event = {
    id = austria_ausgleich.1
    title = "The Ausgleich of [GetYear]"
    desc = austria_ausgleich.1.d

    is_triggered_only = yes

    option = {
        name = "Agree to a new tractate."

        swap_ideas = {
            remove_idea = idea_dissatisfied_hungarians
            add_idea = idea_ausgleich
        }

        if = {
            limit = {
                or = { has_idea = partial_economic_mobilisation has_idea = war_economy }
                add_ideas = low_economic_mobilisation
            }
        }
        else = {
            custom_effect_tooltip = "The new Ausgleich agreement will prevent us from mobilizing the economy for war production."
        }

        random_owned_controlled_state = {
            limit = { is_core_of = HUN }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }
    }
    option = {
        name = "Ditch the Hungarian demands."
        
        random_owned_controlled_state = {
            limit = { not = { is_core_of = HUN } }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }

        random_owned_controlled_state = {
            limit = { not = { is_core_of = HUN } }
            add_building_construction = { type = industrial_complex level = 1 instant_build = yes }
        }

        hidden_effect = { 
            random_list = {
				50 = { news_event = { id = austria_ausgleich.2 days = 14 random_days = 28 } }
                50 = { }
			}
        }
    }
}

news_event = {
    id = austria_ausgleich.2
    title = "Sabotage Spreads in Translitavia"
    desc = austria_ausgleich.2.d

    is_triggered_only = yes

    option = {
        name = "Awful."

        swap_ideas = {
            remove_idea = idea_dissatisfied_hungarians
            add_idea = idea_sabotage_in_hungary
        }
    }
}
