add_namespace = turkey_unrest_in_greece

country_event = {
    id = turkey_unrest_in_greece.1
    title = "Achaean League Challenges Our Administration"         # greek nationalists claim we don't really control the country
    desc = turkey_unrest_in_greece.1.d

    is_triggered_only = yes

    option = {
        name = "Organize Albanian settlement throughout Greece."

        add_political_power = -50
        add_stability = -0.05

        hidden_effect = {
            country_event = { id = turkey_unrest_in_greece.2 days = 42 random_days = 14 }
        }
    }

    option = {
        name = "Concede to the activists."
        add_popularity = { ideology = democratic popularity = 0.05 }

        hidden_effect = {
            news_event = { id = turkey_unrest_in_greece.3 days = 42 random_days = 14 }
        }
    }
}

country_event = {
    id = turkey_unrest_in_greece.2
    title = "Turmoil in Epirus"
    desc = turkey_unrest_in_greece.2.d

    is_triggered_only = yes

    option = {
        name = "Withdraw our support."

        add_popularity = { ideology = democratic popularity = 0.05 }
        add_political_power = -100
    }

    option = {
        name = "Carry on with the settlement program."

        add_popularity = { ideology = monarchism popularity = 0.05 }
        add_stability = -0.05

        hidden_effect = {
            if = {
                limit = { has_stability < 0.6 }
                news_event = { id = turkey_unrest_in_greece.3 days = 7 random_days = 7 }
            }
            else = { news_event = { id = turkey_unrest_in_greece.4 days = 28 random_days = 7 } }
        }
    }
}

news_event = {
    id = turkey_unrest_in_greece.3
    title = "Independence War in Greece!"
    desc = turkey_unrest_in_greece.3.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Greece lives again."

        if = {
            limit = { tag = TUR }

            hidden_effect = {
                every_state = {
                    limit = {
                        or = { state = 185 state = 186 state = 187 }
                        is_controlled_by = TUR
                    }
                    transfer_state_to = GRE
                }
                GRE = { load_oob = "GRE_uprising" }
            }

            declare_war_on = { target = GRE type = annex_everything }
        }
    }
}

news_event = {
    id = turkey_unrest_in_greece.4
    title = "Achaean League Disbanded; Constantinople Triumphs"
    desc = turkey_unrest_in_greece.4.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "A Turkish success."

        if = {
            limit = { has_idea = sww1_idea_unrest_in_the_adriatic }
            swap_ideas = {
                remove_idea = sww1_idea_unrest_in_the_adriatic
                add_idea = sww1_idea_unrest_in_serbia
            }
            else = { remove_ideas = sww1_idea_unrest_in_greece }
        }
    }
}