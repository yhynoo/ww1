add_namespace = austria_events

### 1. Ties to the Diaspora

news_event = {
    id = austria_events.1
    title = "Wilson Tours Austria-Hungary"
    desc = austria_events.1.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "What a sight!"

        hidden_effect = {
            if = {
                limit = { tag = AUS }
                country_event = { id = austria_events.2 days = 14 random_days = 28 }
            }
        }
    }
}

country_event = {
    id = austria_events.2
    title = "Should We Offer Austria an Alliance?"
    desc = austria_events.2.d

    is_triggered_only = yes

    trigger = {
        USA = {
            exists = yes
            not = { has_war_with = AUS }
        }
        AUS = {
            exists = yes
            is_in_faction = no
        }
    }

    option = {
        name = "Yes, offer an alliance."
        AUS = { country_event = { id = austria_events.3 hours = 12 random_hours = 6 } }

        ai_chance = { 
            base = 1
            modifier = {
                has_completed_focus = USA_interventionism
                factor = 4
            }
        }
    }

    option = {
        name = "No, no alliance."

        ai_chance = { base = 1 }
    }
}

country_event = {
    id = austria_events.3
    title = "Should We Accept the USA's Alliance?"
    desc = austria_events.3.d

    is_triggered_only = yes

    option = {
        name = "Looks like Wilson likes it here."
        news_event = { id = austria_events.4 hours = 12 random_hours = 6 }

        USA = {
            create_faction = "League of Free Nations"
            add_to_faction = AUS
        }

        ai_chance = { base = 20 }           # That was the whole point, no?
    }

    option = {
        name = "No, reject the alliance."
        USA = { news_event = { id = austria_events.5 hours = 12 random_hours = 6 } }

        ai_chance = { base = 1 }
    }
}

news_event = {
    id = austria_events.4
    title = "Austria-Hungary Joins USA in Alliance!"
    desc = austria_events.4.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "A historic alliance."
    }
}

news_event = {
    id = austria_events.5
    title = "Austria-Hungary Rejects American Alliance"
    desc = austria_events.5.d

    is_triggered_only = yes

    option = {
        name = "An unfortunate decision."
    }
}

### 2. Second Vienna Treaty

country_event = {
    id = austria_events.6
    title = "Austria-Hungary Invites Us to Treaty"
    desc = austria_events.6.d

    is_triggered_only = yes

    option = {
        name = "Yes, we accept the treaty."
        news_event = { id = austria_events.7 hours = 12 random_hours = 6 }

        ai_chance = {
            base = 1
            modifier = {
                and = {
                    is_neighbor_of = GER
                    GER = { has_war = no }
                }
                factor = 4
            }
            modifier = {
                threat > 0.1
                factor = 2
            }
        }
    }

    option = {
        name = "No, we decline the treaty."
        AUS = { news_event = { id = austria_events.8 hours = 12 random_hours = 6 } }

        ai_chance = {
            base = 1
            modifier = {
                threat < 0.1
                factor = 2
            }
        }
    }
}

- News Event: Second Vienna Treaty Signed! (major)
news_event = {
    id = austria_events.7
    title = "[ROOT.GetName] Joins the Second Vienna Treaty!"
    desc = austria_events.7.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "A new era in Europe."
    }
}

news_event = {
    id = austria_events.8
    title = "[FROM.GetName] Declines Vienna Treaty"
    desc = austria_events.8.d

    is_triggered_only = yes

    option = {
        name = "A missed opportunity."
    }
}

news_event = {
    id = austria_events.9
    title = "Austria-Hungary Vows to Liberate Christians!"
    desc = austria_events.9.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "Another religious war?"
    }
}

### 3. Austro-Slavism

news_event = {
    id = austria_events.10
    title = "Kingdom of Croatia Established!"
    desc = austria_events.10.d

    is_triggered_only = yes
    major = yes

    option = {
        name = "A new chapter for Croatia."
    }
}

### 4. Review the Ausgleich Agreement

country_event = {
    id = austria_events.11
    title = "Should We Prioritize Hungary or Pursue Equal Development?"
    desc = austria_events.11.d

    is_triggered_only = yes

    option = {
        name = "Prioritize Hungaryâ€™s development"
        if = {
            limit = { 43 = { is_owned_and_controlled_by = AUS } }
            43 = {
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
        if = {
            limit = { 76 = { is_owned_and_controlled_by = AUS } }
            76 = {
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }

        ai_chance = { base = 1 }
    }

    option = {
        name = "Pursue equal development"
        if = {
            limit = { 9 = { is_owned_and_controlled_by = AUS } }
            9 = {
                add_building_construction = {
                    type = industrial_complex
                    level = 1
                    instant_build = yes
                }
            }
        }
        if = {
            limit = { 91 = { is_owned_and_controlled_by = AUS } }
            91 = {
                add_building_construction = {
                    type = arms_factory
                    level = 1
                    instant_build = yes
                }
            }
        }
        if = {
            limit = { 736 = { is_owned_and_controlled_by = AUS } }
            736 = {
                add_building_construction = {
                    type = air_base
                    level = 1
                    instant_build = yes
                }
            }
        }

        ai_chance = { base = 1 }
    }
}