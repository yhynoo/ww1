add_namespace = soviet_agitation

country_event = {
    id = soviet_agitation.1
    title = "Agitation in the Army"
    desc = soviet_agitation.1.d

    trigger = {
        tag = SOV
        not = { has_country_flag = exhaustion_fired }
        and = { longest_war_length > 18 or = { has_war_support < 0.5 has_stability < 0.3 } }
    }

    immediate = { 
        hidden_effect = { 
            set_country_flag = exhaustion_fired 
            news_event = { id = soviet_agitation.2 days = 60 random_days = 30 } 
        } 
    }

    option = {
        name = "Execute the agitators."
        add_political_power = -150

        hidden_effect = { 
            news_event = { id = soviet_agitation.3 days = 180 } 
        }
    }
    option = {
        name = "This should not bother us."
        add_timed_idea = { idea = idea_agitation_in_army years = 1 }

        ai_chance = {
            base = 1
            modifier = { has_country_flag = chose_alternative factor = 0 }
        }
    }
}

news_event = {
    id = soviet_agitation.2
    title = "Anarchists Spread Anti-War Slogans"
    desc = soviet_agitation.2.d

    is_triggered_only = yes
    trigger = { or = { has_war_support < 0.5 has_stability < 0.3 } }

    option = {
        name = "We must do something about it."
        add_popularity = { ideology = communism popularity = 0.05 }
    }
}

news_event = {
    id = soviet_agitation.3
    title = "Outpost Assaulted in Central Asia"
    desc = soviet_agitation.3.d

    is_triggered_only = yes
    trigger = { or = { has_war_support < 0.5 has_stability < 0.3 } }

    option = {
        name = "Very disturbing."
        add_ideas = idea_army_is_done
    }
}