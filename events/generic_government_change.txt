add_namespace = generic_government_change

# authoritarian takeovers

country_event = {
    id = generic_government_change.2
    title = "Wide Support for Authoritarianism"
    desc = generic_government_change.2.d

    trigger = {
        not = { has_government = authoritarianism }

        has_civil_war = no
        has_stability > 0.1 authoritarianism > 0.5

        # disable this for America
        not = { tag = USA }
    }

    option = {
        name = "We must listen to the nation."
        set_politics = {
            ruling_party = authoritarianism
            elections_allowed = no
        }
    }
    option = {
        name = "We cannot let this happen."

        add_political_power = -150
        add_popularity = {
            ideology = authoritarianism
            popularity = -0.05
        }

        remove_ideas_with_trait = authoritarian_demagogue
    }
}

# communist takeovers

country_event = {
    id = generic_government_change.4
    title = "Wide Support for Communism"
    desc = generic_government_change.4.d

    trigger = {
        not = { has_government = communism }

        has_civil_war = no
        has_stability > 0.1 communism > 0.5
    }

    option = {
        name = "We must listen to the voice of the workers."
        set_politics = {
            ruling_party = communism
            elections_allowed = no
        }
    }
    option = {
        name = "We cannot let this happen."

        add_political_power = -150
        add_popularity = {
            ideology = communism
            popularity = -0.05
        }

        remove_ideas_with_trait = sww1_communist_agitator
    }
}

# democratic takeovers

country_event = {
    id = generic_government_change.6
    title = "Wide Support for Democracy"
    desc = generic_government_change.6.d

    trigger = {
        not = { has_government = democratic }

        has_civil_war = no
        has_stability > 0.1 democratic > 0.5
    }

    option = {
        name = "We must step down."
        set_politics = {
            ruling_party = democratic
            elections_allowed = yes
        }
    }
    option = {
        name = "Order must be restored."

        add_political_power = -150
        add_popularity = {
            ideology = democratic
            popularity = -0.05
        }

        remove_ideas_with_trait = sww1_democratic_reformer
    }
}